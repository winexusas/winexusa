(()=>{var t={9662:(t,e,r)=>{var n=r(614),o=r(6330),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},9670:(t,e,r)=>{var n=r(111),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},1318:(t,e,r)=>{var n=r(5656),o=r(1400),i=r(6244),a=function(t){return function(e,r,a){var s,c=n(e),u=i(c),p=o(a,u);if(t&&r!=r){while(u>p)if(s=c[p++],s!=s)return!0}else for(;u>p;p++)if((t||p in c)&&c[p]===r)return t||p||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3658:(t,e,r)=>{"use strict";var n=r(9781),o=r(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:(t,e,r)=>{var n=r(1702),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},9920:(t,e,r)=>{var n=r(2597),o=r(3887),i=r(1236),a=r(3070);t.exports=function(t,e,r){for(var s=o(e),c=a.f,u=i.f,p=0;p<s.length;p++){var l=s[p];n(t,l)||r&&n(r,l)||c(t,l,u(e,l))}}},8880:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,r)=>{var n=r(614),o=r(3070),i=r(6339),a=r(3072);t.exports=function(t,e,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(n(r)&&i(r,u,s),s.global)c?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(p){}c?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:(t,e,r)=>{var n=r(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,r="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},317:(t,e,r)=>{var n=r(7854),o=r(111),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},7207:t=>{var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},8113:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(t,e,r)=>{var n,o,i=r(7854),a=r(8113),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,p=u&&u.v8;p&&(n=p.split("."),o=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(o=+n[1]))),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),a=r(8052),s=r(3072),c=r(9920),u=r(4705);t.exports=function(t,e){var r,p,l,d,f,h,m=t.target,b=t.global,y=t.stat;if(p=b?n:y?n[m]||s(m,{}):(n[m]||{}).prototype,p)for(l in e){if(f=e[l],t.dontCallGetSet?(h=o(p,l),d=h&&h.value):d=p[l],r=u(b?l:m+(y?".":"#")+l,t.forced),!r&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&i(f,"sham",!0),a(p,l,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,r)=>{var n=r(4374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:(t,e,r)=>{var n=r(9781),o=r(2597),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:(t,e,r)=>{var n=r(4374),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);t.exports=n?a:function(t){return function(){return i.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),o=r(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},8173:(t,e,r)=>{var n=r(9662),o=r(8554);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:t=>{t.exports={}},4664:(t,e,r)=>{var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(1702),o=r(7293),i=r(4326),a=Object,s=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},2788:(t,e,r)=>{var n=r(1702),o=r(614),i=r(5465),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},9909:(t,e,r)=>{var n,o,i,a=r(4811),s=r(7854),c=r(111),u=r(8880),p=r(2597),l=r(5465),d=r(6200),f=r(3501),h="Object already initialized",m=s.TypeError,b=s.WeakMap,y=function(t){return i(t)?o(t):n(t,{})},g=function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}};if(a||l.state){var v=l.state||(l.state=new b);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw m(h);return e.facade=t,v.set(t,e),e},o=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var w=d("state");f[w]=!0,n=function(t,e){if(p(t,w))throw m(h);return e.facade=t,u(t,w,e),e},o=function(t){return p(t,w)?t[w]:{}},i=function(t){return p(t,w)}}t.exports={set:n,get:o,has:i,enforce:y,getterFor:g}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:(t,e,r)=>{var n=r(4154),o=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4705:(t,e,r)=>{var n=r(7293),o=r(614),i=/#|\.prototype\./,a=function(t,e){var r=c[s(t)];return r==p||r!=u&&(o(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",p=a.POLYFILL="P";t.exports=a},8554:t=>{t.exports=function(t){return null===t||void 0===t}},111:(t,e,r)=>{var n=r(614),o=r(4154),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===i}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},2190:(t,e,r)=>{var n=r(5005),o=r(614),i=r(7976),a=r(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,s(t))}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},6339:(t,e,r)=>{var n=r(1702),o=r(7293),i=r(614),a=r(2597),s=r(9781),c=r(6530).CONFIGURABLE,u=r(2788),p=r(9909),l=p.enforce,d=p.get,f=String,h=Object.defineProperty,m=n("".slice),b=n("".replace),y=n([].join),g=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===m(f(e),0,7)&&(e="["+b(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?h(t,"name",{value:e,configurable:!0}):t.name=e),g&&r&&a(r,"arity")&&t.length!==r.arity&&h(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var n=l(t);return a(n,"source")||(n.source=y(v,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return i(this)&&d(this).source||u(this)}),"toString")},4758:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},3070:(t,e,r)=>{var n=r(9781),o=r(4664),i=r(3353),a=r(9670),s=r(4948),c=TypeError,u=Object.defineProperty,p=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",f="writable";e.f=n?i?function(t,e,r){if(a(t),e=s(e),a(r),"function"===typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=p(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:l in r?r[l]:n[l],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(a(t),e=s(e),a(r),o)try{return u(t,e,r)}catch(n){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(6916),i=r(5296),a=r(9114),s=r(5656),c=r(4948),u=r(2597),p=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=c(e),p)try{return l(t,e)}catch(r){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),o=r(748),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),o=r(2597),i=r(5656),a=r(1318).indexOf,s=r(3501),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,p=[];for(r in n)!o(s,r)&&o(n,r)&&c(p,r);while(e.length>u)o(n,r=e[u++])&&(~a(p,r)||c(p,r));return p}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},2140:(t,e,r)=>{var n=r(6916),o=r(614),i=r(111),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&o(r=t.toString)&&!i(s=n(r,t)))return s;if(o(r=t.valueOf)&&!i(s=n(r,t)))return s;if("string"!==e&&o(r=t.toString)&&!i(s=n(r,t)))return s;throw a("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),o=r(1702),i=r(8006),a=r(5181),s=r(9670),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(s(t)),r=a.f;return r?c(e,r(t)):e}},4488:(t,e,r)=>{var n=r(8554),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=r(3072),i="__core-js_shared__",a=n[i]||o(i,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,r)=>{var n=r(7392),o=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(t,e,r)=>{var n=r(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:(t,e,r)=>{var n=r(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},7466:(t,e,r)=>{var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488),o=Object;t.exports=function(t){return o(n(t))}},7593:(t,e,r)=>{var n=r(6916),o=r(111),i=r(2190),a=r(8173),s=r(2140),c=r(5112),u=TypeError,p=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,c=a(t,p);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!o(r)||i(r))return r;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:(t,e,r)=>{var n=r(7593),o=r(2190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),o=0,i=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3307:(t,e,r)=>{var n=r(6293);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781),o=r(7293);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,r)=>{var n=r(7854),o=r(614),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},5112:(t,e,r)=>{var n=r(7854),o=r(2309),i=r(2597),a=r(9711),s=r(6293),c=r(3307),u=n.Symbol,p=o("wks"),l=c?u["for"]||u:u&&u.withoutSetter||a;t.exports=function(t){return i(p,t)||(p[t]=s&&i(u,t)?u[t]:l("Symbol."+t)),p[t]}},7658:(t,e,r)=>{"use strict";var n=r(2109),o=r(7908),i=r(6244),a=r(3658),s=r(7207),c=r(7293),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},l=u||!p();n({target:"Array",proto:!0,arity:1,forced:l},{push:function(t){var e=o(this),r=i(e),n=arguments.length;s(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return a(e,r),r}})},7961:(t,e,r)=>{"use strict";r.d(e,{U2:()=>d,$B:()=>u,ci:()=>h,v_:()=>f,Nn:()=>l});var n=r(7327),o=r(1679);class i{constructor(){(0,n.Z)(this,"requestPromises",{}),(0,n.Z)(this,"dataPromises",{})}async getCachedResponse(t){return t in this.requestPromises||(this.requestPromises[t]=fetch(t)),!this.dataPromises[t]&&this.requestPromises[t]&&(this.dataPromises[t]=this.requestPromises[t].then((t=>{if(!t.ok)throw new Error(`Invalid server resp: ${t.statusText} (${t.status})`);return t.json()}))),this.dataPromises[t]}async get(t){return this.getCachedResponse(t).then((t=>(0,o.pp)(t,o.TD))).catch((t=>{console.error(t)}))}}const a=i,s=new a;function c(t=""){const e=window.OPW_API_ENDPOINT||"https://api.opinew.com";return"http"===t.slice(0,4)?t:e+t}function u(t){const e=document.querySelector(`link[rel="preload"][href*="opinew"][href$="${t}"]`);if(e)return e.href;const r=document.currentScript||document.querySelector('script[src*=opinew][src*="/js/index."]');return r?r.src.replace(/js\/index.(\w{8}\.)?js/,t):void 0}async function p(t){if(!t.ok)throw new Error(`Invalid server resp: ${t.statusText} (${t.status})`);return(0,o.pp)(await t.json(),o.TD)}function l(t){return s.getCachedResponse(c(t))}async function d(t,e){let r="";return e&&(r=Object.entries(e).reduce(((t,[e,r])=>t+`${(0,o.a1)(e)}=${r}&`),"?")),await s.get(c(t+r))}async function f(t,e,r){const n=e instanceof FormData,i=n?{}:{"Content-Type":"application/json"},a=await fetch(c(t),{headers:{...i,...r},method:"POST",body:n?e:JSON.stringify((0,o.pp)(e,o.a1))});return p(a)}async function h(t,e){let r="";e&&(r=Object.entries(e).reduce(((t,[e,r])=>t+`${(0,o.a1)(e)}=${r}&`),"?"));const n=await fetch(c(t+r));return p(n)}},7877:(t,e,r)=>{"use strict";r.r(e),r.d(e,{getAllProductData:()=>c,getBadgeData:()=>u,getConfigData:()=>p,getExampleWidgets:()=>a,getLangData:()=>d,getProduct:()=>s,getRates:()=>i,translateReview:()=>l});var n=r(1679),o=r(7961);function i(t=[],e=[]){let r="";return t.length&&(r+=`product_stars_ids=${t}&`),e.length&&(r+=`collection_stars_ids=${e}`),(0,o.U2)(`/plugins/fetch-stars?${r}`)}function a(){return(0,o.U2)("/get-example-widgets")}function s(t={}){return(0,o.U2)("/plugins/product_api?"+(0,n.O5)(t))}function c(t={}){return(0,o.U2)("/plugins/shop_api?"+(0,n.O5)(t))}function u(t={}){return(0,o.U2)("/plugins/badge_api?"+(0,n.O5)(t))}function p(t={}){return(0,o.U2)("/plugins/shop_config?"+(0,n.O5)(t))}function l(t,e){return(0,o.U2)(`/plugins/translate?review_id=${t}&target_language=${e}`)}function d(){return(0,o.Nn)((0,o.$B)("i18n/lang.json")).then((t=>JSON.parse(t)))}},9085:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AVAILABLE_THEMES:()=>p,COLLECTION_SELECTOR:()=>s,DYNAMIC_NODES:()=>c,PRODUCT_ID_SELECTOR:()=>i,STARS_SELECTOR:()=>a,WIDGET_NODES:()=>u,default:()=>o});const n={SERVER_URL:window.OPW_API_ENDPOINT||"https://api.opinew.com",MAX_DISPLAYED_BODY_LENGTH:300,STARS_RANGE:[1,2,3,4,5],EMPTY_STAR:"empty",HALF_STAR:"half",FULL_STAR:"full",WIDGET_THEME_STYLE_CARD:"card",WIDGET_THEME_STYLE_FLAT:"flat",WIDGET_TOP_SECTION_STYLE_DEFAULT:"default",WIDGET_TOP_SECTION_STYLE_CONDENSED:"condensed",WIDGET_TOP_SECTION_STYLE_CLEAN:"clean",WIDGET_TOP_SECTION_STYLE_MINIMAL:"minimal",WIDGET_TOP_SECTION_STYLE_MODERN:"modern",WIDGET_TOP_SECTION_STYLE_CARUSEL:"carousel",WIDGET_TOP_SECTION_STYLE_MSI:"msi",REQUEST_TYPES:{admin:"admin",create:"create",unverified:"unverified",unverifiedCreate:"unverifiedCreate",test:"test",requestLink:"link"}},o=n,i="[data-product-id]",a="opw-dynamic-stars",s="opw-dynamic-stars-collection",c=[[".opinew-product-plugin-dynamic","prod"],[".opinew-review-request-dynamic","request"],[".opinew-badge-plugin-dynamic","badge"],[".opinew-carousel-plugin-dynamic","carousel"],[".opinew-all-reviews-plugin-dynamic","all"]],u=[["opinew_product_plugin_app","prod"],["opinew_review_request_app","request"],["opinew_badge_plugin_app","badge"],["opinew_carousel_plugin_app","carousel"],["opinew_all_reviews_plugin_app","all"],["opinew_product_floating_widget","floating"]],p=[n.WIDGET_TOP_SECTION_STYLE_DEFAULT,n.WIDGET_TOP_SECTION_STYLE_MINIMAL,n.WIDGET_TOP_SECTION_STYLE_MODERN,n.WIDGET_TOP_SECTION_STYLE_CARUSEL,n.WIDGET_TOP_SECTION_STYLE_MSI]},6683:(t,e,r)=>{"use strict";r.d(e,{aH:()=>s,i8:()=>a,vA:()=>i});var n=r(7327);class o{constructor(t,e=50){(0,n.Z)(this,"timeout",null),this.time=e,this.target=t}run(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.target(t)),this.time)}}class i{constructor(t,e){this.func=t,this.wait=e,this.timeoutId=null,this.firstCall=!0}run(...t){if(this.firstCall)return this.func.apply(this,t),void(this.firstCall=!1);clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.func.apply(this,t),this.firstCall=!0}),this.wait)}}const a=new o((t=>{t.$el.dispatchEvent(new CustomEvent("OpinewWidgetLoaded",{bubbles:!0}))}),10);function s(){try{const t=document.querySelector("[data-opwconfig]"),e=JSON.parse(t.dataset.opwconfig);return e&&e.shop.id}catch{}return null}},1679:(t,e,r)=>{"use strict";r.d(e,{EI:()=>n,O5:()=>l,TD:()=>o,a1:()=>i,nR:()=>p,nx:()=>u,pp:()=>c});r(7658);function n(t){return Object.fromEntries(Object.entries(t).filter((([t,e])=>![null,void 0].includes(e))).map((([t,e])=>[t,e+"!important"])))}function o(t){return t.replace(/_[a-z0-9]/g,(t=>t[1].toUpperCase()))}function i(t){return t.replace(/([A-Z]+|[0-9]+)/g,"_$1").toLowerCase()}function a(t,e){return t&&Object.fromEntries(Object.entries(t).map((([t,r])=>[e(t),r])))}const s=t=>"[object Object]"===Object.prototype.toString.apply(t);function c(t,e){return t&&Object.fromEntries(Object.entries(t).map((([t,r])=>{const n=[e(t)];return Array.isArray(r)&&r.every(s)?n.push(r.map((t=>c(t,e)))):s(r)?n.push(c(r,e)):n.push(r),n})))}function u(t,e){Object.entries(t).forEach((([t,r])=>{Array.isArray(r)?(e[o(t)]=e[o(t)]||[],r.every((t=>"object"===typeof t))?e[o(t)]=r.map((t=>c(t,o))):e[o(t)]=r):r&&"object"===typeof r?(e[o(t)]=e[o(t)]||{},s(e[o(t)])||(e[o(t)]={}),u(r,e[o(t)])):void 0!==r&&(e[o(t)]=r)}))}function p(t){return Object.fromEntries(Object.entries(t).reduce(((t,[e,r])=>("string"==typeof r?t.push([e,r]):s(r)&&Object.entries(r).forEach((([r,n])=>t.push([`${e}.${r}`,n]))),t)),[]))}function l(t){return Object.entries(a(t,i)).filter((([t,e])=>!!e)).map((([t,e])=>`${t}=${e}`)).join("&")}},7327:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function i(t){var e=o(t,"string");return"symbol"===n(e)?e:String(e)}function a(t,e,r){return e=i(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:()=>a})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.m=t,(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return r.d(e,{a:e}),e}})(),(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&o&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>n[t]));return a["default"]=()=>n,r.d(i,a),i}})(),(()=>{r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(()=>{r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[]))})(),(()=>{r.u=t=>"js/"+({86:"opw-cardcarousel",89:"opw-minimal",92:"opw-qanew",193:"opw-cardnew",197:"opw-carousel",225:"opw-defaultnew",385:"opw-galerynew",457:"opw-msi",479:"opw-request",502:"opw-container",504:"opw-checker",534:"opw-modern",551:"opw-containercarousel",606:"opw-carcarouselnew",659:"opw-qa",694:"opw-product",790:"opw-minimalnew",889:"opw-modernnew",893:"opw-default"}[t]||t)+"."+{86:"76288a25",89:"61fe4cb1",92:"fd799b65",193:"3a44a470",197:"77532cf2",214:"f82ac919",225:"3c6356b0",289:"90596a99",327:"87de95dd",384:"0d8745a0",385:"5735ff23",406:"e165fc27",457:"f24d843c",479:"40ee1ae1",502:"cb57410c",504:"e8b153f7",534:"4250ebc8",551:"600819e0",568:"7b719bd9",578:"c25ea5f5",606:"96a52379",659:"c74074a1",694:"056ff216",790:"1bcb4c6a",812:"6b6d9e53",837:"ae9ccacc",889:"d2eea311",893:"bce56855"}[t]+".js"})(),(()=>{r.miniCssF=t=>"css/"+({86:"opw-cardcarousel",89:"opw-minimal",193:"opw-cardnew",197:"opw-carousel",225:"opw-defaultnew",385:"opw-galerynew",457:"opw-msi",479:"opw-request",502:"opw-container",534:"opw-modern",551:"opw-containercarousel",606:"opw-carcarouselnew",694:"opw-product",790:"opw-minimalnew",889:"opw-modernnew",893:"opw-default"}[t]||t)+"."+{86:"85b6f890",89:"518993c0",193:"05441cac",197:"8b02d1dc",214:"98541a55",225:"b323e7b6",327:"235432a1",384:"4b09a1f5",385:"32d272d3",457:"295ea5d5",479:"b891620d",502:"433fa586",534:"fbb40e55",551:"4715d4d9",568:"9cebdcc2",578:"8f5d75df",606:"83f647bf",694:"3ba65878",790:"72ef86e9",889:"7aa64f60",893:"c2827a46"}[t]+".css"})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="@opinew-gitlab/opinew-widgets:";r.l=(n,o,i,a)=>{if(t[n])t[n].push(o);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),p=0;p<u.length;p++){var l=u[p];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==e+i){s=l;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",e+i),s.src=n),t[n]=[o];var d=(e,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((t=>t(r))),e)return e(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{r.p="https://cdn.opinew.com/shop-widgets/static/"})(),(()=>{if("undefined"!==typeof document){var t=(t,e,r,n,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=r=>{if(i.onerror=i.onload=null,"load"===r.type)n();else{var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,i.parentNode.removeChild(i),o(c)}};return i.onerror=i.onload=a,i.href=e,r?r.parentNode.insertBefore(i,r.nextSibling):document.head.appendChild(i),i},e=(t,e)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===t||i===e))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){o=a[n],i=o.getAttribute("data-href");if(i===t||i===e)return o}},n=n=>new Promise(((o,i)=>{var a=r.miniCssF(n),s=r.p+a;if(e(a,s))return o();t(n,s,null,o,i)})),o={826:0,427:0};r.f.miniCss=(t,e)=>{var r={86:1,89:1,193:1,197:1,214:1,225:1,327:1,384:1,385:1,457:1,479:1,502:1,534:1,551:1,568:1,578:1,606:1,694:1,790:1,889:1,893:1};o[t]?e.push(o[t]):0!==o[t]&&r[t]&&e.push(o[t]=n(t).then((()=>{o[t]=0}),(e=>{throw delete o[t],e})))}}})(),(()=>{var t={826:0,427:0};r.f.j=(e,n)=>{var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((r,n)=>o=t[e]=[r,n]));n.push(o[2]=i);var a=r.p+r.u(e),s=new Error,c=n=>{if(r.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};r.l(a,c,"chunk-"+e,e)}};var e=(e,n)=>{var o,i,[a,s,c]=n,u=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)c(r)}for(e&&e(n);u<a.length;u++)i=a[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=globalThis["opinewJsonP"]=globalThis["opinewJsonP"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();(()=>{"use strict";var t=r(9085);async function e(t,e){const[n,{createPinia:o},{loadI18n:i}]=await Promise.all([r.e(812).then(r.bind(r,9812)),r.e(289).then(r.bind(r,7289)),r.e(837).then(r.bind(r,7837)),r.e(406).then(r.t.bind(r,4406,19)),r.e(327).then(r.bind(r,327))]),a=await i(),s=n.defineAsyncComponent((()=>r.e(327).then(r.bind(r,327)))),c=o(),u=n.createApp(s,e);u.use(a),u.use(c),u.mount(t)}const n={rootMargin:"250px",threshold:.1},o=(t,r)=>{let o=!1;const i=new IntersectionObserver((n=>{n.some((t=>t.isIntersecting))&&(o||(i.disconnect(),e(t,r),o=!0))}),n);window.addEventListener("click",(()=>{o||(i.disconnect(),e(t,r),o=!0)}),{once:!0,capture:!0}),i.observe(t)};var i=r(6683),a=r(7961);const{getRates:s}=r(7877),{STARS_SELECTOR:c,COLLECTION_SELECTOR:u}=r(9085),p=[];async function l({node:t,collectionIds:e=[],productIds:r=[]}){try{const{productStars:n,collectionStars:o}=await s(r,e);n&&n[r[0]]?t.innerHTML=n[r[0]]||"":o&&o[e[0]]&&(t.innerHTML=o[e[0]]||"")}catch(n){console.error(n)}}async function d(t=[]){const e=t.filter((t=>[...t.classList].includes(c))),r=t.filter((t=>[...t.classList].includes(u))),n=e.map((t=>t.dataset.productId)),o=r.map((t=>t.dataset.productId));p.splice(0,0,...n,...o);try{const{productStars:t,collectionStars:i}=await s([...new Set(n)],[...new Set(o)]);t&&e.forEach((e=>{e.dataset.productId&&(e.innerHTML=t[e.dataset.productId]||"",delete e.dataset.productId)})),i&&r.forEach((t=>{t.dataset.productId&&(t.innerHTML=i[t.dataset.productId]||"",delete t.dataset.productId)}))}catch(i){console.error(i)}}const f=[[`.${c}[data-product-id],.${u}[data-product-id]`,d]];function h(){function r(){const t=document.querySelector("[data-platform-product-id]");return t?t.dataset.platformProductId:""}function n(t){const n=r();return r=>{r.forEach((async r=>{const o=r.dataset.productId||n;delete r.dataset.productId,await e(r,{[t]:!0,productId:o}),r.id="opinew-plugin"}))}}return t.DYNAMIC_NODES.map((([e,r])=>[e+(e.includes("product-plugin")?t.PRODUCT_ID_SELECTOR:""),n(r)]))}class m{constructor(t=[]){this.queue=[],this.selectors=t,this.handleBodyChange=this.handleBodyChange.bind(this),this.observe=this.observe.bind(this),this.shopId=(0,i.aH)()}observe(){const t={attributes:!1,childList:!0,subtree:!0},e=new MutationObserver(this.handleBodyChange);e.observe(document.body,t),this.handleBodyChange()}getfilteredNodes(t){return Array.from(document.querySelectorAll(t)).filter((t=>!this.queue.includes(t.dataset.productId)))}handleBodyChange(){this.selectors.forEach((t=>{const[e,r]=t,n=this.getfilteredNodes(e);n&&n.length&&(this.shopId&&(0,a.ci)(`/shop/${this.shopId}/notify-about-event?action=headless`),r([...n]))}))}}const b=m,y=!0;window.OPW_WIDGETS_VERSION="23.16.0-0-g14dbc67",y&&window.OPW_PUBLIC_KEY&&(window.OPW_CHECKER_ENDPOINT,1)&&window.addEventListener("load",(()=>{r.e(504).then(r.t.bind(r,2742,23))})),t.WIDGET_NODES.map((([t,e])=>[document.getElementById(t),e])).forEach((([t,e])=>t&&o(t,{[e]:!0})));const g=y?'[href*="opinew"]':"";class v extends HTMLElement{constructor(){super(),this.attachStyles=this.attachStyles.bind(this),this.resetApp=this.resetApp.bind(this),this.renderApp=this.renderApp.bind(this),this.shadowDom=this.attachShadow({mode:"open"}),this.root=document.createElement("div"),this.shadowDom.appendChild(this.root),this.setStyleWatcher(),this.shopId=(0,i.aH)()}static get observedAttributes(){return["type","domain"]}get type(){return this.getAttribute("type")}set type(t){this.setAttribute("type",t)}get domain(){return this.getAttribute("domain")}set domain(t){this.setAttribute("domain",t)}get productId(){return this.getAttribute("product-id")}set productId(t){this.setAttribute("product-id",t)}get theme(){return this.getAttribute("theme")}set theme(t){this.setAttribute("theme",t)}get lang(){return(this.getAttribute("lang")||"").toUpperCase()}set lang(t){this.setAttribute("lang",t)}attributeChangedCallback(){this.mounted&&this.resetApp()}async connectedCallback(){await this.renderApp(),this.mounted=!0}async renderApp(){if(!this.type)throw new Error("Opinew Plugin: widget type not set");this.type.includes("stars")?await this.renderStars():this.renderVue(),this.shopId&&(0,a.ci)(`/shop/${this.shopId}/notify-about-event?action=headless`)}scrollToWidget(){const t=-120;let e=document.querySelector('opinew-plugin[type="product"]');if(e){e=e.shadowRoot.querySelector("div.opinew-widget-wrapper");const r=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:r,behavior:"smooth"})}}async renderStars(){if(this.type){await l({node:this.root,[this.type.includes("collection")?"collectionIds":"productIds"]:[this.productId]});const t=this.root.firstElementChild;t&&t.classList.add("opw-cursor-pointer","opw-inline-block"),t&&"product-stars"===this.type&&t.addEventListener("click",this.scrollToWidget)}}renderVue(){o(this.root,{[this.type]:!0,lang:this.lang,productId:this.productId,domain:this.domain,theme:this.theme}),this.root.addEventListener("OpinewWidgetLoaded",(()=>{this.dispatchEvent(new CustomEvent("OpinewWidgetLoaded",{bubbles:!0}))}))}attachStyles(t){t.map((t=>[...t.addedNodes])).flat().forEach((t=>{const e=!y||t.href&&t.href.includes("opinew");"stylesheet"===t.rel&&e&&this.shadowDom.insertBefore(t.cloneNode(!0),this.shadowDom.lastElementChild)}))}setStyleWatcher(){const t=[...document.querySelectorAll('#opinew_product_plugin_css,link[rel="stylesheet"]'+g)];t.forEach((t=>{this.shadowDom.insertBefore(t.cloneNode(!0),this.shadowDom.lastElementChild)}));const e={attributes:!0,childList:!0,subtree:!0},r=new MutationObserver(this.attachStyles);r.observe(document.head,e)}resetApp(){this.vueApp&&this.vueApp.$destroy(),this.root=this.appRoot||this.root,this.renderApp()}}window.customElements.get("opinew-plugin")||window.customElements.define("opinew-plugin",v);const w=h(),E=new b(w.concat(f));if(document.body?E.observe():window.addEventListener("DOMContentLoaded",E.observe),window.location.search.indexOf("opinewPreview=true")>-1){const t="#shopify-section-opinew-review-carousel, #opinew-app-container, .opinew-stars-plugin-product-list, #opinew-stars-plugin-product, .all-reviews-badge, .no-reviews-hide-widget { display: unset!important; }",e=document.createElement("style");e.textContent=t,document.head.append(e);for(const r of document.querySelectorAll("opinew-plugin")){const e=document.createElement("style");e.textContent=t,r.shadowRoot.append(e)}}})()})();